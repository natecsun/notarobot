
[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mF:/notarobot[39m

[90mstdout[2m | app/api/resume/route.test.ts[2m > [22m[2mResume API Route - Unit Tests[2m > [22m[2mFile Upload Validation[2m > [22m[2mshould reject request with no file
[22m[39mDEBUG: File received [90mundefined[39m [90mundefined[39m

 [2m[90mÎ“Ã¥Ã´[39m[22m app/api/resume/route.test.ts[2m > [22mResume API Route - Unit Tests[2m > [22mshould be defined
 [2m[90mÎ“Ã¥Ã´[39m[22m app/api/resume/route.test.ts[2m > [22mResume API Route - Unit Tests[2m > [22mshould be a function
 [32mÎ“Â£Ã´[39m app/api/resume/route.test.ts[2m > [22mResume API Route - Unit Tests[2m > [22mAccess Control - Visitor Limits[2m > [22mshould reject visitor when usage count is 2[32m 7[2mms[22m[39m
 [32mÎ“Â£Ã´[39m app/api/resume/route.test.ts[2m > [22mResume API Route - Unit Tests[2m > [22mAccess Control - Visitor Limits[2m > [22mshould reject visitor when usage count exceeds 2[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m app/api/resume/route.test.ts[2m > [22mResume API Route - Unit Tests[2m > [22mAccess Control - User Credits[2m > [22mshould reject user with zero credits[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m app/api/resume/route.test.ts[2m > [22mResume API Route - Unit Tests[2m > [22mAccess Control - User Credits[2m > [22mshould reject user with no profile[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m app/api/resume/route.test.ts[2m > [22mResume API Route - Unit Tests[2m > [22mFile Upload Validation[2m > [22mshould reject request with no file[32m 3[2mms[22m[39m
 [2m[90mÎ“Ã¥Ã´[39m[22m app/api/resume/route.test.ts[2m > [22mResume API Route - Unit Tests[2m > [22mError Handling[2m > [22mshould handle Supabase errors gracefully
 [2m[90mÎ“Ã¥Ã´[39m[22m app/api/resume/route.test.ts[2m > [22mResume API Route - Integration Tests[2m > [22mshould process resume for authenticated user with credits
 [2m[90mÎ“Ã¥Ã´[39m[22m app/api/resume/route.test.ts[2m > [22mResume API Route - Integration Tests[2m > [22mshould use correct Groq model and parameters
 [2m[90mÎ“Ã¥Ã´[39m[22m app/api/resume/route.test.ts[2m > [22mResume API Route - Integration Tests[2m > [22mshould handle PDF parsing errors
 [31mâ”œÃ¹[39m app/api/resume/route.test.ts[2m > [22mResume API Route - Integration Tests[2m > [22mshould reject files larger than 5MB[33m 5009[2mms[22m[39m
[31m   Î“Ã¥Ã† Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
 [31mâ”œÃ¹[39m app/api/resume/route.test.ts[2m > [22mResume API Route - Integration Tests[2m > [22mshould reject scanned/empty PDFs[33m 5004[2mms[22m[39m
[31m   Î“Ã¥Ã† Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
 [2m[90mÎ“Ã¥Ã´[39m[22m app/api/resume/route.test.ts[2m > [22mResume API Route - Integration Tests[2m > [22mshould handle rate limit errors from Groq
 [2m[90mÎ“Ã¥Ã´[39m[22m app/api/resume/route.test.ts[2m > [22mResume API Route - Integration Tests[2m > [22mshould handle empty Groq response

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 2 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  app/api/resume/route.test.ts > Resume API Route - Integration Tests > should reject files larger than 5MB
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 Î“Â¥Â» app/api/resume/route.test.ts:363:3
    361|   });
    362| 
    363|   it('should reject files larger than 5MB', async () => {
       |   ^
    364|     mockGetUser.mockResolvedValue({ data: { user: null }, error: null Î“Ã‡Âª
    365|     mockGetCookie.mockReturnValue({ value: '0' });

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/2]Î“Ã„Â»

 FAIL  app/api/resume/route.test.ts > Resume API Route - Integration Tests > should reject scanned/empty PDFs
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 Î“Â¥Â» app/api/resume/route.test.ts:388:3
    386|   });
    387| 
    388|   it('should reject scanned/empty PDFs', async () => {
       |   ^
    389|     mockGetUser.mockResolvedValue({
    390|       data: { user: { id: 'user-scanned' } },

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/2]Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m5 passed[39m[22m[2m | [22m[33m8 skipped[39m[90m (15)[39m
[2m   Start at [22m 08:51:06
[2m   Duration [22m 11.36s[2m (transform 59ms, setup 78ms, collect 69ms, tests 10.03s, environment 618ms, prepare 86ms)[22m

